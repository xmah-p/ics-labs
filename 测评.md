

# cachelab

终于脱离了汇编语言，从cache开始的lab就都是正经的C语言编程了。这个lab码量比前几个要大一些，也是按优化给分，优化的过程有点难

lab分两部分，第一部分：手动模拟一个高速缓存，第二部分：用缓存优化矩阵相乘的程序，降低缓存miss次数。part2的优化挺烧脑的，最后一题cmu要求优化到2000给满分，贵校的lab加强了要求，优化到1600才能满（我们PKU真是太厉害辣）

排坑：注意part1是64位地址而不是32位！！！坑了不少人的bug
part2的解决方式基本唯一：用矩阵分块，实在不会可以去google上找文章借鉴一下思路，但别抄代码就行




# shelllab

对应第8章异常控制流，异常和信号处理的内容，以及第十章的重定位（第10章重定位这块一定要好好看，上课存在感比较低，但期末有可能和第8章一块出大题）。码量比较大，debug难度显著大于前几个lab，菜鸡dz debug花了20小时左右，供参考
具体内容是写一个简易的linux shell，内容方面三言两语也说不清楚，就不说了

排坑：1.这个lab有助教的手动评分，一定要注意各种编程细节（重要）！！！可以找本班助教或者其他班同学要一份评分标准    2.强烈建议先好好看一遍第八章第十章，读懂书上代码（书上也确实有不少代码可以抄），确保理解了所有书上代码再开始写
3.最后一组测试数据的kill -1有点坑；另外有一组测试数据，要屏蔽SIGHUP信号（这玩意上课不讲，实在有点坑），学弟学妹们做的时候小心一下


# malloclab

具体内容为写一个动态内存分配器。debug和优化过程极度痛苦，今年降低了难度，但只是降低了优化程序的难度。想debug从而跑通程序仍然很难。dz水平垃圾，跑通程序+优化到接近满分的过程足足花了30小时
【建议早点开始，做好心理准备，给malloc留出足够多的时间】【建议速战速决，malloclab在期末季前两周放出来，非常魔鬼。如果为了3分5分的小优化花上一天时间，实在不太值】

大众思路为分离空闲链表，少数大佬可能会写平衡树，但普通人采用前者，亲测也能95+

排坑：1.malloclab也有助教手动评分环节，强烈建议打磨好自己程序的每一个细节   2.地址是8字节不是4字节！其实可以用4字节偏移量表示地址（指针），但需要做特殊处理。千万不要直接用4字节表示地址     3.书上的优化方式很有用（比如去脚部），建议写lab之前好好把书看一遍，虽然照搬书上的方法会给0分，但看懂了就很好写
关于debug方式：1.gdb  2.自己写的checkheap函数  3.printf打法打印相关信息

